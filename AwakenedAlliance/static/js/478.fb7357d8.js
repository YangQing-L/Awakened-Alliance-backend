"use strict";(self["webpackChunkawakened_alliance"]=self["webpackChunkawakened_alliance"]||[]).push([[478],{478:function(e,r,a){a.r(r),a.d(r,{default:function(){return W}});var n=a(3396),s=a(4870),t=a(2748),o=(a(7658),a(7387)),l=a.n(o),u=a(1120),i=a(680);const c=(e,r,a)=>{r=r||e.username,a=a||e.password,l().ajax({url:"https://app4689.acapp.acwing.com.cn:4436/api/token/",type:"post",data:{username:r,password:a},success:e=>{let r=new Date(1*new Date+27e4);i.Z.set("access",e.access,{expires:r}),i.Z.set("refresh",e.refresh,{expires:14.5}),u.Z.push("/select_mode")},error:()=>{console.log("用户名或密码错误")}})},d=e=>{let r=e.username,a=e.password,n=e.confirmPassword;l().ajax({url:"https://app4689.acapp.acwing.com.cn:4436/settings/register_jwt/",type:"post",data:{username:r,password:a,password_confirm:n},success:e=>{"success"===e.result?c("",r,a):console.log("注册失败：",e.result)}})},p=e=>((0,n.dD)("data-v-0397d231"),e=e(),(0,n.Cn)(),e),f={class:"bigBox"},m={class:"box"},g=p((()=>(0,n._)("h1",null,"WELCOME",-1))),w=p((()=>(0,n._)("p",null,"JOIN US!",-1))),v={class:"img-box"},h=["src"],x={class:"register-form"},_=p((()=>(0,n._)("div",{class:"title-box"},[(0,n._)("h1",null,"注册")],-1))),b={class:"btn-box"},y={class:"login-form"},k=p((()=>(0,n._)("div",{class:"title-box"},[(0,n._)("h1",null,"登录")],-1))),C={class:"btn-box"};var V={__name:"LoginView",setup(e){const{ref:r,reactive:o}=a(4870),l=r(""),u=o({username:"",password:""}),i=r(""),p=o({username:"",password:"",confirmPassword:""}),V=o({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度应该在3-10个字符之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度应该在6-15个字符之间",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{min:6,max:15,message:"长度应该在6-15个字符之间",trigger:"blur"}]}),j=r(""),U=r([a(6858),a(3323),"https://project-static-file.oss-cn-hangzhou.aliyuncs.com/AwakenedAlliance/aoyi/taier/taier_avatar.png","https://project-static-file.oss-cn-hangzhou.aliyuncs.com/AwakenedAlliance/aoyi/xiaoye/xiaoye_avatar.png","https://project-static-file.oss-cn-hangzhou.aliyuncs.com/AwakenedAlliance/aoyi/longyan/longyan_avatar.png","https://project-static-file.oss-cn-hangzhou.aliyuncs.com/AwakenedAlliance/aoyi/dishitian/dishitian_avatar.png"]);let W=r(!0);const A=()=>{W.value?(j.value.style.background="#c9e0ed",j.value.style.transform="translatex(100%)"):(j.value.style.background="#edd4dc",j.value.style.transform="translatex(0%)"),W.value=!W.value};return(e,r)=>{const a=(0,n.up)("el-input"),o=(0,n.up)("el-form-item"),R=(0,n.up)("el-form");return(0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("div",m,[(0,n._)("div",{class:"pre-box",ref_key:"preRef",ref:j},[g,w,(0,n._)("div",v,[(0,n._)("img",{src:1==(0,s.unref)(W)?(0,s.unref)(U)[2]:(0,s.unref)(U)[4],alt:""},null,8,h)])],512),(0,n._)("div",x,[_,(0,n.Wm)(R,{ref_key:"registerFormRef",ref:i,model:(0,s.unref)(p),rules:(0,s.unref)(V),"label-width":"5px"},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{prop:"username",label:" "},{default:(0,n.w5)((()=>[(0,n.Wm)(a,{type:"text",placeholder:"用户名","suffix-icon":(0,s.unref)(t.n5m),modelValue:(0,s.unref)(p).username,"onUpdate:modelValue":r[0]||(r[0]=e=>(0,s.unref)(p).username=e)},null,8,["suffix-icon","modelValue"])])),_:1}),(0,n.Wm)(o,{prop:"password",label:" "},{default:(0,n.w5)((()=>[(0,n.Wm)(a,{type:"password",placeholder:"密码","suffix-icon":(0,s.unref)(t.HEZ),modelValue:(0,s.unref)(p).password,"onUpdate:modelValue":r[1]||(r[1]=e=>(0,s.unref)(p).password=e)},null,8,["suffix-icon","modelValue"])])),_:1}),(0,n.Wm)(o,{prop:"confirmPassword",label:" "},{default:(0,n.w5)((()=>[(0,n.Wm)(a,{type:"password",placeholder:"确认密码","suffix-icon":(0,s.unref)(t.HEZ),modelValue:(0,s.unref)(p).confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=e=>(0,s.unref)(p).confirmPassword=e)},null,8,["suffix-icon","modelValue"])])),_:1})])),_:1},8,["model","rules"]),(0,n._)("div",b,[(0,n._)("button",{onClick:r[3]||(r[3]=e=>(0,s.unref)(d)((0,s.unref)(p)))}," 注册 "),(0,n._)("p",{onClick:r[4]||(r[4]=e=>A())},"已有账号?去登录")])]),(0,n._)("div",y,[k,(0,n.Wm)(R,{ref_key:"loginFormRef",ref:l,model:(0,s.unref)(u),rules:(0,s.unref)(V),"label-width":"5px"},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{prop:"username",label:" "},{default:(0,n.w5)((()=>[(0,n.Wm)(a,{type:"text",placeholder:"用户名","suffix-icon":(0,s.unref)(t.n5m),modelValue:(0,s.unref)(u).username,"onUpdate:modelValue":r[5]||(r[5]=e=>(0,s.unref)(u).username=e)},null,8,["suffix-icon","modelValue"])])),_:1}),(0,n.Wm)(o,{prop:"password",label:" "},{default:(0,n.w5)((()=>[(0,n.Wm)(a,{type:"password",placeholder:"密码","suffix-icon":(0,s.unref)(t.HEZ),modelValue:(0,s.unref)(u).password,"onUpdate:modelValue":r[6]||(r[6]=e=>(0,s.unref)(u).password=e)},null,8,["suffix-icon","modelValue"])])),_:1})])),_:1},8,["model","rules"]),(0,n._)("div",C,[(0,n._)("button",{onClick:r[7]||(r[7]=e=>(0,s.unref)(c)((0,s.unref)(u)))}," 登录 "),(0,n._)("p",{onClick:r[8]||(r[8]=e=>A())},"没有账号?去注册")])])])])}}},j=a(89);const U=(0,j.Z)(V,[["__scopeId","data-v-0397d231"]]);var W=U},3323:function(e,r,a){e.exports=a.p+"static/img/waoku.84015f50.jpg"},6858:function(e,r,a){e.exports=a.p+"static/img/wuwu.1da0db92.jpeg"},680:function(e,r){
/*! js-cookie v3.0.1 | MIT */
function a(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)e[n]=a[n]}return e}var n={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function s(e,r){function n(n,s,t){if("undefined"!==typeof document){t=a({},r,t),"number"===typeof t.expires&&(t.expires=new Date(Date.now()+864e5*t.expires)),t.expires&&(t.expires=t.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in t)t[l]&&(o+="; "+l,!0!==t[l]&&(o+="="+t[l].split(";")[0]));return document.cookie=n+"="+e.write(s,n)+o}}function t(r){if("undefined"!==typeof document&&(!arguments.length||r)){for(var a=document.cookie?document.cookie.split("; "):[],n={},s=0;s<a.length;s++){var t=a[s].split("="),o=t.slice(1).join("=");try{var l=decodeURIComponent(t[0]);if(n[l]=e.read(o,l),r===l)break}catch(u){}}return r?n[r]:n}}return Object.create({set:n,get:t,remove:function(e,r){n(e,"",a({},r,{expires:-1}))},withAttributes:function(e){return s(this.converter,a({},this.attributes,e))},withConverter:function(e){return s(a({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(e)}})}var t=s(n,{path:"/"});r["Z"]=t}}]);
//# sourceMappingURL=478.fb7357d8.js.map